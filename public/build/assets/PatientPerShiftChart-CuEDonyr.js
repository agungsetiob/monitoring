import"./auto-0DX8mfB2.js";import{C as c}from"./chart-BOVB5OMx.js";import{g as p,w as u,i as f,c as h,o as m,a as t}from"./app-2jVEC8Rh.js";const v={class:"bg-white p-6 md:p-8 rounded-xl shadow-md border border-gray-200"},g={class:"relative h-[300px]"},x={__name:"PatientPerShiftChart",props:{data:Array},setup(i){const o=i,s=p(null);let n=null;const l=()=>{if(!s.value||!o.data)return;const e=o.data.map(r=>r.shift),a=o.data.map(r=>r.jumlah);n&&n.destroy(),n=new c(s.value,{type:"pie",data:{labels:e,datasets:[{data:a,backgroundColor:["#3b82f6","#f59e0b","#10b981"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:r=>`${r.label}: ${r.parsed} pasien`}}}}})},d=()=>{if(!s.value)return;const e=document.createElement("a");e.href=s.value.toDataURL("image/png"),e.download="chart-per-shift.png",e.click()};return u(()=>o.data,l),f(l),(e,a)=>(m(),h("div",v,[t("div",{class:"flex justify-between items-center mb-4"},[a[1]||(a[1]=t("h2",{class:"text-xl font-bold text-gray-700"},"ðŸ•’ Pasien per Shift",-1)),t("button",{onClick:d,class:"p-2 rounded-lg bg-green-100 hover:bg-gray-200 transition"},a[0]||(a[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 12v6m0 0l-3-3m3 3l3-3M12 4v8"})],-1)]))]),t("div",g,[t("canvas",{ref_key:"chartRef",ref:s},null,512)])]))}};export{x as default};
