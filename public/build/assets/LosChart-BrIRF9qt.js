import{C as i,r as p}from"./chart-BOVB5OMx.js";import{g as m,w as f,i as v,c,o as d,b as w,a as e}from"./app-tb_APLXm.js";const x={class:"bg-white p-6 md:p-8 rounded-xl shadow-md border border-gray-200 relative"},k={key:0,class:"absolute inset-0 z-10 bg-white bg-opacity-70 flex items-center justify-center rounded-xl"},y={class:"relative h-[500px]"},_={__name:"LosChart",props:{categories:Object,startDate:String,endDate:String,loadingState:Boolean},setup(u){i.register(...p);const s=u,o=m(null);let r=null;const g={"<1h":"#3B82F6","1-3h":"#10B981","3-6h":"#FACC15","6-8h":"#EF4444",">8h":"#111827"},n=()=>{if(!o.value||!s.categories)return;const a=Object.keys(s.categories),t=Object.values(s.categories),l=a.map(h=>g[h]??"#9CA3AF");r&&r.destroy(),r=new i(o.value,{type:"bar",data:{labels:a,datasets:[{label:"Jumlah Pasien",data:t,backgroundColor:l,borderColor:l,borderWidth:1,borderRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}})};f(()=>s.categories,n),v(n);const b=()=>{if(!r)return;const a=document.createElement("a");a.href=r.toBase64Image(),a.download="chart-los-"+s.startDate+"-"+s.endDate+".png",a.click()};return(a,t)=>(d(),c("div",x,[s.loadingState?(d(),c("div",k,t[0]||(t[0]=[e("div",{class:"animate-pulse flex flex-col items-center"},[e("div",{class:"h-8 w-8 bg-blue-400 rounded-full mb-2"})],-1)]))):w("",!0),e("div",{class:"flex items-center justify-between mb-4"},[t[2]||(t[2]=e("h2",{class:"text-xl font-bold text-gray-800"},"ðŸ“ˆ Grafik LOS",-1)),e("button",{onClick:b,class:"p-2 rounded-lg bg-green-100 hover:bg-gray-200 transition"},t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 12v6m0 0l-3-3m3 3l3-3M12 4v8"})],-1)]))]),e("div",y,[e("canvas",{ref_key:"chartRef",ref:o},null,512)])]))}};export{_ as default};
