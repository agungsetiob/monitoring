import"./auto-0DX8mfB2.js";import{g as c,w as u,i as m,c as g,o as f,a as t,p as v,D as h}from"./app-II-ucqCz.js";import{C as x}from"./chart-BOVB5OMx.js";const b={class:"bg-white p-6 md:p-8 rounded-xl shadow-md border border-gray-200"},w={class:"relative h-[400px]"},M={__name:"PatientPerHourChart",props:{data:Array},setup(i){const n=i,r=c(null);let l=null;const o=()=>{if(!r.value||!n.data)return;const s=n.data.map(e=>String(e.jam).padStart(2,"0")+":00"),a=n.data.map(e=>e.jumlah),p=a.map(e=>e>11?"#dc2626":e>5?"#f97316":"#16a34a");l&&l.destroy(),l=new x(r.value,{type:"bar",data:{labels:s,datasets:[{label:"Jumlah Pasien Masuk",data:a,backgroundColor:p,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>`${e.parsed.y} pasien`}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Jumlah Pasien"}},x:{title:{display:!0,text:"Jam Masuk"}}}}})},d=()=>{if(!r.value)return;const s=document.createElement("a");s.href=r.value.toDataURL("image/png"),s.download="chart-per-jam"+h().format("YYYY-MM-DD")+".png",s.click()};return u(()=>n.data,o),m(o),(s,a)=>(f(),g("div",b,[t("div",{class:"flex justify-between items-center mb-4"},[a[1]||(a[1]=t("h2",{class:"text-xl font-bold text-gray-700"},"ðŸ“ˆ Pasien per Jam",-1)),t("button",{onClick:d,class:"p-2 rounded-lg bg-green-100 hover:bg-gray-200 transition"},a[0]||(a[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M12 12v6m0 0l-3-3m3 3l3-3M12 4v8"})],-1)]))]),t("div",w,[t("canvas",{ref_key:"chartRef",ref:r},null,512)]),a[2]||(a[2]=v('<div class="mt-4 flex flex-wrap gap-4 text-sm text-gray-600"><div class="flex items-center gap-2"><span class="w-4 h-4 rounded bg-red-600"></span> â‰¥ 12 pasien (padat) </div><div class="flex items-center gap-2"><span class="w-4 h-4 rounded bg-orange-500"></span> 6-11 pasien (sedang) </div><div class="flex items-center gap-2"><span class="w-4 h-4 rounded bg-green-600"></span> â‰¤ 5 pasien (longgar) </div></div>',1))]))}};export{M as default};
