import{c as d,o as u,a as t,C as K,n as Y,t as l,g,I as R,r as B,d as x,u as b,k as L,W as f,y as v,m as y,b as h,T as N,q as V,l as m,s as w,v as k,p as F,F as _,e as z,D as C}from"./app-DE8My1SR.js";const $={class:"relative inline-block"},J={class:"group inline-flex w-full h-full"},U={__name:"Tooltip",props:{text:{type:String,required:!0},bgColor:{type:String,default:"bg-gray-800"}},setup(c){return(r,s)=>(u(),d("div",$,[t("div",J,[K(r.$slots,"default"),t("div",{class:Y(["absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-2 py-1 text-xs text-white rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none z-50",c.bgColor])},l(c.text),3)])]))}},P={class:"p-4 min-h-screen bg-pattern md:p-6"},j={class:"mx-auto max-w-8xl"},q={class:"flex flex-col px-6 py-4 mb-6 text-white bg-gradient-to-r from-teal-500 to-blue-500 rounded-xl shadow-2xl md:flex-row md:items-center md:justify-between"},A={key:0,class:"fixed top-4 right-4 z-50 w-full max-w-sm"},E={class:"p-4 bg-red-50 rounded-lg border border-red-200 shadow-lg"},H={class:"flex items-start"},I={class:"flex-1 ml-3"},W={class:"mt-1 text-sm text-red-700"},O={class:"flex-shrink-0 ml-4"},G={class:"p-6 mb-6 bg-white rounded-xl shadow-lg"},Q={class:"grid grid-cols-1 gap-4 md:grid-cols-4"},X={class:"flex gap-3"},Z=["disabled"],tt={key:0,class:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},et={class:"p-6 mb-6 bg-white rounded-xl shadow-lg"},ot={class:"mb-4 text-lg font-bold text-gray-800"},at={class:"overflow-x-auto"},st={class:"min-w-full bg-white rounded-lg border border-gray-200"},lt={class:"px-4 py-3 text-sm text-gray-900 border-b"},nt={class:"px-4 py-3 text-sm text-gray-900 border-b"},rt={class:"px-4 py-3 text-sm text-gray-900 border-b"},it={class:"px-4 py-3 text-sm text-gray-900 border-b"},dt={class:"px-4 py-3 text-sm text-gray-900 border-b"},ut={class:"px-4 py-3 text-sm text-gray-900 border-b"},pt={class:"px-4 py-3 text-sm text-gray-900 border-b"},xt={class:"px-4 py-3 text-sm border-b"},bt={class:"flex gap-2"},mt=["onClick"],ct={key:1},vt={__name:"Index",setup(c){const r=g(!1),s=g(""),a=R({no_kartu:"",bulan:String(new Date().getMonth()+1).padStart(2,"0"),tahun:String(new Date().getFullYear()),filter:"2"}),M=()=>{a.no_kartu="",a.bulan=String(new Date().getMonth()+1).padStart(2,"0"),a.tahun=String(new Date().getFullYear()),a.filter="2",s.value=""},n=g([]),S=async()=>{var p,e;if(!a.no_kartu||!a.bulan||!a.tahun){s.value="Nomor kartu, bulan, dan tahun harus diisi",setTimeout(()=>{s.value=""},5e3);return}r.value=!0,s.value="",n.value=[];try{const i=await axios.post("/rencana-kontrol/cari-data",a);i.data.success?(n.value=i.data.data.list,s.value=""):(n.value=[],s.value=i.data.message,setTimeout(()=>{s.value=""},5e3))}catch(i){s.value=((e=(p=i.response)==null?void 0:p.data)==null?void 0:e.message)||"Terjadi kesalahan saat mencari data",n.value=[],setTimeout(()=>{s.value=""},5e3)}finally{r.value=!1}},D=p=>{f.visit(`/rencana-kontrol/update?noSuratKontrol=${p.noSuratKontrol}`)};return(p,e)=>{const i=B("font-awesome-icon");return u(),d(_,null,[x(b(L),{title:"Update Rencana Kontrol"}),t("div",P,[t("div",j,[t("div",q,[e[7]||(e[7]=t("h1",{class:"mb-2 text-2xl font-extrabold md:text-3xl md:mb-0"}," Update Rencana Kontrol ",-1)),t("button",{onClick:e[0]||(e[0]=o=>b(f).visit("/")),class:"inline-flex gap-2 items-center px-5 py-2 font-semibold text-white bg-indigo-600 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:bg-indigo-700 hover:scale-105"},e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M19 12H5"}),t("path",{d:"M12 19l-7-7 7-7"})],-1),v(" Kembali ")]))]),x(N,{name:"toast"},{default:y(()=>[s.value?(u(),d("div",A,[t("div",E,[t("div",H,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",I,[e[8]||(e[8]=t("h3",{class:"text-sm font-medium text-red-800"},"Error!",-1)),t("p",W,l(s.value),1)]),t("div",O,[t("button",{onClick:e[1]||(e[1]=o=>s.value=""),class:"inline-flex text-red-400 hover:text-red-600 focus:outline-none"},e[9]||(e[9]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]))])])])])):h("",!0)]),_:1}),t("div",G,[e[18]||(e[18]=t("h2",{class:"mb-4 text-xl font-bold text-gray-800"},"Cari Data Rencana Kontrol",-1)),t("form",{onSubmit:V(S,["prevent"]),class:"space-y-4"},[t("div",Q,[t("div",null,[e[11]||(e[11]=t("label",{for:"no_kartu",class:"block mb-2 text-sm font-medium text-gray-700"}," Nomor Kartu BPJS ",-1)),m(t("input",{id:"no_kartu","onUpdate:modelValue":e[2]||(e[2]=o=>a.no_kartu=o),type:"text",class:"px-3 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan nomor kartu BPJS",required:""},null,512),[[w,a.no_kartu]])]),t("div",null,[e[13]||(e[13]=t("label",{for:"bulan",class:"block mb-2 text-sm font-medium text-gray-700"}," Bulan ",-1)),m(t("select",{id:"bulan","onUpdate:modelValue":e[3]||(e[3]=o=>a.bulan=o),class:"px-3 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:""},e[12]||(e[12]=[F('<option value="01">Januari</option><option value="02">Februari</option><option value="03">Maret</option><option value="04">April</option><option value="05">Mei</option><option value="06">Juni</option><option value="07">Juli</option><option value="08">Agustus</option><option value="09">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Desember</option>',12)]),512),[[k,a.bulan]])]),t("div",null,[e[14]||(e[14]=t("label",{for:"tahun",class:"block mb-2 text-sm font-medium text-gray-700"}," Tahun ",-1)),m(t("input",{id:"tahun","onUpdate:modelValue":e[4]||(e[4]=o=>a.tahun=o),type:"text",minlength:"4",maxlength:"4",pattern:"[0-9]{4}",class:"px-3 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"YYYY",required:""},null,512),[[w,a.tahun]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"filter",class:"block mb-2 text-sm font-medium text-gray-700"}," Filter ",-1)),m(t("select",{id:"filter","onUpdate:modelValue":e[5]||(e[5]=o=>a.filter=o),class:"px-3 py-2 w-full rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},e[15]||(e[15]=[t("option",{value:""},"Pilih Filter",-1),t("option",{value:"1"},"Tanggal Entri",-1),t("option",{value:"2"},"Tanggal Rencana Kontrol",-1)]),512),[[k,a.filter]])])]),t("div",X,[t("button",{type:"submit",disabled:r.value,class:"flex gap-2 items-center px-6 py-2 font-semibold text-white bg-blue-600 rounded-lg transition duration-300 hover:bg-blue-700 disabled:bg-blue-400"},[r.value?(u(),d("svg",tt,e[17]||(e[17]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),v(" "+l(r.value?"Mencari...":"Cari Data"),1)],8,Z),t("button",{type:"button",onClick:M,class:"px-6 py-2 font-semibold text-white bg-gray-500 rounded-lg transition duration-300 hover:bg-gray-600"}," Reset ")])],32)]),t("div",et,[t("h3",ot,"Data Rencana Kontrol Ditemukan ("+l(n.value.length)+" data) ",1),t("div",at,[t("table",st,[e[20]||(e[20]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"No. Surat Kontrol"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Jenis"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Nama Peserta"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Poli"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Dokter"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Tgl. Rencana"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Tgl. Terbit"),t("th",{class:"px-4 py-3 text-sm font-medium text-left text-gray-700 border-b"},"Aksi")])],-1)),t("tbody",null,[n.value&&n.value.length>0?(u(!0),d(_,{key:0},z(n.value,(o,T)=>(u(),d("tr",{key:T,class:"hover:bg-gray-50"},[t("td",lt,l(o.noSuratKontrol||"-"),1),t("td",nt,l(o.namaJnsKontrol||"-"),1),t("td",rt,l(o.nama||"-"),1),t("td",it,l(o.namaPoliTujuan||"-"),1),t("td",dt,l(o.namaDokter||"-"),1),t("td",ut,l(o.tglRencanaKontrol?b(C)(o.tglRencanaKontrol).format("DD-MM-YYYY"):"-"),1),t("td",pt,l(o.tglTerbitKontrol?b(C)(o.tglTerbitKontrol).format("DD-MM-YYYY"):"-"),1),t("td",xt,[t("div",bt,[x(U,{text:"Ubah rencana",bgColor:"bg-blue-600"},{default:y(()=>[t("button",{onClick:gt=>D(o),class:"px-2 py-1 text-xs font-medium text-blue-600 border border-blue-600 rounded transition duration-300 hover:bg-blue-200"},[x(i,{icon:"edit"})],8,mt)]),_:2},1024)])])]))),128)):(u(),d("tr",ct,e[19]||(e[19]=[t("td",{colspan:"8",class:"px-4 py-3 text-center text-gray-500"},"Tidak ada data",-1)])))])])])])])])],64)}}};export{vt as default};
